"use strict";(self.webpackChunkadguard_knowledge_base=self.webpackChunkadguard_knowledge_base||[]).push([[1074],{4137:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>k});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},u=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,i=e.originalType,p=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),m=s(a),k=o,c=m["".concat(p,".").concat(k)]||m[k]||d[k]||i;return a?n.createElement(c,r(r({ref:t},u),{},{components:a})):n.createElement(c,r({ref:t},u))}));function k(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=a.length,r=new Array(i);r[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l.mdxType="string"==typeof e?e:o,r[1]=l;for(var s=2;s<i;s++)r[s]=a[s];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},3582:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>r,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var n=a(7462),o=(a(7294),a(4137));const i={title:"How to protect AdGuard from being disabled by the system",sidebar_position:9},r=void 0,l={unversionedId:"android/solving-problems/background-work",id:"android/solving-problems/background-work",title:"How to protect AdGuard from being disabled by the system",description:'In some cases, apps won\'t stay in the background ("alive" or in a sleep mode) due to Android OS optimization function, or so called "battery save mode" \u2014 this function can kill background applications. It may be inconvenient to relaunch them each time they are getting closed. To avoid the background app termination you need to follow these steps which we described separately for each manufacturer (version) of Android OS. Note that instructions for different manufacturers are mostly very similar.',source:"@site/docs/android/solving-problems/background-work.md",sourceDirName:"android/solving-problems",slug:"/android/solving-problems/background-work",permalink:"/KnowledgeBase/android/solving-problems/background-work",draft:!1,editUrl:"https://github.com/AdguardTeam/KnowledgeBase/edit/master/docs/android/solving-problems/background-work.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{title:"How to protect AdGuard from being disabled by the system",sidebar_position:9},sidebar:"tutorialSidebar",previous:{title:"How to setup the outbound proxy",permalink:"/KnowledgeBase/android/solving-problems/adguard-outbound-proxy"},next:{title:"Problems caused by using a Restricted Mode profile",permalink:"/KnowledgeBase/android/solving-problems/restricted-profile"}},p={},s=[{value:"Asus",id:"asus",level:2},{value:"Xiaomi",id:"xiaomi",level:2},{value:"MIUI 12.0.8+",id:"miui-1208",level:4},{value:"MIUI 12",id:"miui-12",level:4},{value:"MIUI 10-11",id:"miui-10-11",level:4},{value:"Power management",id:"power-management",level:4},{value:"App battery saver",id:"app-battery-saver",level:4},{value:"App pinning",id:"app-pinning",level:4},{value:"Samsung",id:"samsung",level:2},{value:"Galaxy S9 / S10",id:"galaxy-s9--s10",level:4},{value:"Sleeping apps",id:"sleeping-apps",level:4},{value:"Old Samsung devices",id:"old-samsung-devices",level:4},{value:"Huawei",id:"huawei",level:2},{value:"App Launch on some EMUI 8, 9 and 10 devices (Huawei P20, Huawei P20 Lite, Huawei Mate 10\u2026)",id:"app-launch-on-some-emui-8-9-and-10-devices-huawei-p20-huawei-p20-lite-huawei-mate-10",level:4},{value:"EMUI 9+ devices",id:"emui-9-devices",level:4},{value:"EMUI 6+ devices (and some EMUI 5 devices):",id:"emui-6-devices-and-some-emui-5-devices",level:4},{value:"Huawei P9 Plus:",id:"huawei-p9-plus",level:4},{value:"Huawei P20, Huawei Honor 9 Lite and Huawei Mate 9 Pro:",id:"huawei-p20-huawei-honor-9-lite-and-huawei-mate-9-pro",level:4},{value:"Huawei P20, Huawei P20 Lite, Huawei Mate 10:",id:"huawei-p20-huawei-p20-lite-huawei-mate-10",level:4},{value:"Early Huawei",id:"early-huawei",level:4},{value:"Meizu",id:"meizu",level:2},{value:"Nokia",id:"nokia",level:2},{value:"Nokia 1 (Android Go)",id:"nokia-1-android-go",level:4},{value:"Other Nokia models",id:"other-nokia-models",level:4},{value:"Oppo",id:"oppo",level:2},{value:"Oneplus",id:"oneplus",level:2},{value:"Sony",id:"sony",level:2},{value:"Wiko",id:"wiko",level:2},{value:"Android stock devices Pixel/Nexus/Essential",id:"android-stock-devices-pixelnexusessential",level:2}],u={toc:s};function d(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,'In some cases, apps won\'t stay in the background ("alive" or in a sleep mode) due to Android OS optimization function, or so called "battery save mode" \u2014 this function can kill background applications. It may be inconvenient to relaunch them each time they are getting closed. To avoid the background app termination you need to follow these steps which we described separately for each manufacturer (version) of Android OS. Note that instructions for different manufacturers are mostly very similar.'),(0,o.kt)("h2",{id:"asus"},"Asus"),(0,o.kt)("p",null,"Information on Asus devices is still far from being exhaustive so there may be more issues than listed here. We're going to update this part of the article when we know more."),(0,o.kt)("p",null,"Go to Settings - Power Manager - Mobile Manager - Settings - Battery-saving options - Auto-start manager - AdGuard - uncheck."),(0,o.kt)("h2",{id:"xiaomi"},"Xiaomi"),(0,o.kt)("h4",{id:"miui-1208"},"MIUI 12.0.8+"),(0,o.kt)("p",null,"To let your AdGuard app run successfully in the background, do the following:"),(0,o.kt)("p",null,"In ",(0,o.kt)("em",{parentName:"p"},"Settings")," > ",(0,o.kt)("em",{parentName:"p"},"Apps")," > ",(0,o.kt)("em",{parentName:"p"},"Manage apps")," > scroll down to locate ",(0,o.kt)("em",{parentName:"p"},"AdGuard"),", set ",(0,o.kt)("em",{parentName:"p"},"Autostart"),' to "On".'),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/xiaomi4en.jpeg",alt:"Xiaomi Settings"})),(0,o.kt)("p",null,"Scroll down to ",(0,o.kt)("em",{parentName:"p"},"Battery saver"),', tap it, and set to "No restrictions".'),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/miui12_en_0a.png",alt:"Miui"})),(0,o.kt)("p",null,"Run the ",(0,o.kt)("em",{parentName:"p"},"Security")," app."),(0,o.kt)("p",null,"Tap the ",(0,o.kt)("em",{parentName:"p"},"Gear")," icon at the top-right corner of the screen."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/miui12_en_1.jpeg",alt:"Miui Settings"})," "),(0,o.kt)("p",null,"Tap ",(0,o.kt)("em",{parentName:"p"},"Boost speed")," in Feature Settings"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/miui12_en_2.png",alt:"Miui Settings"}),"   "),(0,o.kt)("p",null,"Tap ",(0,o.kt)("em",{parentName:"p"},'"Lock apps"'),"."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/miui12_en_3.jpeg",alt:"Miui Settings"})),(0,o.kt)("p",null,"In the ",(0,o.kt)("em",{parentName:"p"},"Lock apps")," screen, set the toggle switch for the AdGuard app to On."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/miui12_en_4.jpeg",alt:"Miui Settings"})),(0,o.kt)("p",null,"That\u2019s all! You\u2019ve successfully pinned the AdGuard app. "),(0,o.kt)("h4",{id:"miui-12"},"MIUI 12"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/xiaomi4en.jpeg",alt:"Xiaomi"})),(0,o.kt)("p",null,"Go to Settings > Apps > Manage apps > AdGuard. "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Set Autostart to \u201cOn\u201d"),(0,o.kt)("li",{parentName:"ul"},"Set Battery saver to \u201cNo restrictions\u201d")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/xiaomi5en.jpeg",alt:"Xiaomi"})),(0,o.kt)("p",null,"Now launch the active apps manager by swiping up from the bottom of the screen and look for the AdGuard app. "),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/xiaomi6.jpeg",alt:"Xiaomi"})),(0,o.kt)("p",null,"Tap and hold on it until a special menu pops up. Select a lock icon."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/xiaomi7en.jpeg",alt:"Xiaomi"})),(0,o.kt)("p",null,"The lock icon should appear above the app window."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/xiaomi8en.jpeg",alt:"Xiaomi"})),(0,o.kt)("h4",{id:"miui-10-11"},"MIUI 10-11"),(0,o.kt)("p",null,"To let your app run successfully in the background, configure settings as follows:"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/public/Adguard/screenshots/android/xiaomi1en.png",alt:"Xiaomi"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Settings > Battery & performance")," > switch-off ",(0,o.kt)("em",{parentName:"li"},"Battery saver")," function")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/public/Adguard/screenshots/android/xiaomi2en.png",alt:"Xiaomi"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Then open ",(0,o.kt)("em",{parentName:"li"},"App battery saver")," settings > ",(0,o.kt)("em",{parentName:"li"},"AdGuard")," > ",(0,o.kt)("em",{parentName:"li"},"No restrictions"))),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/public/Adguard/screenshots/android/xiaomi3en.png",alt:"Xiaomi"})),(0,o.kt)("h4",{id:"power-management"},"Power management"),(0,o.kt)("p",null,"Please enable:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Settings > Advanced Settings > Battery manager > set "),"Power plan",(0,o.kt)("em",{parentName:"li"}," to Performance")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Device Settings > Advanced Settings > Battery Manager > Protected apps")," \u2013 your app needs to be Protected"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Device Settings > Apps > your app > Battery > Power-intensive prompt")," and ",(0,o.kt)("em",{parentName:"li"},"Keep running after screen off")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Settings > Additional Settings > Battery & Performance > Manage apps\u2019 battery usage")," and here:")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Switch Power Saving Modes to Off"),(0,o.kt)("li",{parentName:"ol"},"Choose the following options: ",(0,o.kt)("em",{parentName:"li"},"Saving Power in The Background > Choose apps > Select your app > Background Settings > No restrictions"))),(0,o.kt)("h4",{id:"app-battery-saver"},"App battery saver"),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Security > Battery > App Battery Saver > AdGuard > No restriction")),(0,o.kt)("h4",{id:"app-pinning"},"App pinning"),(0,o.kt)("p",null,"To set up AdGuard's background work for Xiaomi devices you should pay attention to Battery and Permissions."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Tap on the ",(0,o.kt)("em",{parentName:"li"},"Recent tasks")," button and swipe AdGuard down to make options ",(0,o.kt)("em",{parentName:"li"},"visible")," (as shown on the screenshot):")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/xiaomirecent.png",alt:"Xiaomi"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Tap on the ",(0,o.kt)("em",{parentName:"li"},"lock")," icon. This will stop Xiaomi from closing AdGuard automatically. It should look like this:")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/xiaomilocked.png",alt:"Xiaomi"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Go to ",(0,o.kt)("em",{parentName:"p"},'"Battery"'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Select ",(0,o.kt)("em",{parentName:"p"},'"battery saver"')," app ")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Find and select AdGuard")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Set up the following ",(0,o.kt)("em",{parentName:"p"},'"Background settings"'),":"))),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/xiaomirest.png",alt:"Xiaomi"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Go to ",(0,o.kt)("em",{parentName:"p"},'"Permissions"'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Select ",(0,o.kt)("em",{parentName:"p"},'"Autostart"'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Make sure that autostart function is enabled for AdGuard:"))),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/xiaomiautostart.png",alt:"Xiaomi"})),(0,o.kt)("h2",{id:"samsung"},"Samsung"),(0,o.kt)("h4",{id:"galaxy-s9--s10"},"Galaxy S9 / S10"),(0,o.kt)("p",null,"Battery optimization is ",(0,o.kt)("strong",{parentName:"p"},"turned on by default"),". At some unclear moments (maybe on app update, OS update), the settings also do revert back to the defaults, forcing you to turn them off again and again."),(0,o.kt)("h4",{id:"sleeping-apps"},"Sleeping apps"),(0,o.kt)("p",null,"Sleeping apps menu is the sniper\u2019s nest for Samsung\u2019s app killing policies. Make sure to follow the instructions very carefully to prevent the apps from being killed."),(0,o.kt)("p",null,"Checklist:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Disable ",(0,o.kt)("strong",{parentName:"li"},"Put unused apps to sleep")),(0,o.kt)("li",{parentName:"ul"},"Disable ",(0,o.kt)("strong",{parentName:"li"},"Auto-disable unused apps")),(0,o.kt)("li",{parentName:"ul"},"Remove your app from the list of sleeping apps"),(0,o.kt)("li",{parentName:"ul"},"Disable background restrictions for your app")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Start ",(0,o.kt)("strong",{parentName:"li"},"Device care")," from phone settings")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/public/Adguard/screenshots/android/samsung1en.png",alt:"Samsung"})),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"Tap ",(0,o.kt)("strong",{parentName:"li"},"Battery"))),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/public/Adguard/screenshots/android/samsung2en.png",alt:"Samsung"})),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Tap the ",(0,o.kt)("strong",{parentName:"li"},"3-dot menu")," > ",(0,o.kt)("strong",{parentName:"li"},"Settings"))),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/public/Adguard/screenshots/android/samsung3en.png",alt:"Samsung"})),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"Disable all toggles (except Notifications)"),(0,o.kt)("li",{parentName:"ol"},"Tap ",(0,o.kt)("strong",{parentName:"li"},"Sleeping apps"))),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/public/Adguard/screenshots/android/samsung45en.png",alt:"Samsung"})),(0,o.kt)("ol",{start:6},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("strong",{parentName:"li"},"Wake up")," all the apps using the trashcan icon")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/public/Adguard/screenshots/android/samsung6en.png",alt:"Samsung"})),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Note"),": Make sure that Put unused apps to sleep and Auto-disable unused apps is disabled. Otherwise Samsung will put your apps back to sleep after a few days (3 by default) even if you have woken them up manually!")),(0,o.kt)("h4",{id:"old-samsung-devices"},"Old Samsung devices"),(0,o.kt)("p",null,"For early Samsung devices, there is no huge need for setting up the background work, but if in your case the application is getting closed or disappears from the recent tasks after a while, do the following:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Tap on the ",(0,o.kt)("em",{parentName:"p"},"Recent tasks")," button, tap on the ",(0,o.kt)("em",{parentName:"p"},"Additional settings")," icon. It should look like this:"),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/samsungoptions.png",alt:"Samsung settings"}))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Tap on ",(0,o.kt)("em",{parentName:"p"},"Lock Apps"),":"),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/samsunglockapps.png",alt:"Samsung settings"}))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Tap on the lock icon "),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/samsunglock.png",alt:"Samsung settings"})))),(0,o.kt)("h2",{id:"huawei"},"Huawei"),(0,o.kt)("h4",{id:"app-launch-on-some-emui-8-9-and-10-devices-huawei-p20-huawei-p20-lite-huawei-mate-10"},"App Launch on some EMUI 8, 9 and 10 devices (Huawei P20, Huawei P20 Lite, Huawei Mate 10\u2026)"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Phone settings")," > ",(0,o.kt)("em",{parentName:"li"},"Battery")," > ",(0,o.kt)("em",{parentName:"li"},"App launch")," and then set your app to \u201cManage manually\u201d and make sure everything is turned on.")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/public/Adguard/screenshots/android/huawei1en.png",alt:"Huawei"})),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("em",{parentName:"li"},"Phone settings > Battery > App launch"),". This feature may or may not be available for all devices or labeled differently.")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/public/Adguard/screenshots/android/huawei2en.png",alt:"Huawei"})),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},'Turn off \u201cManage all automatically"')),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/public/Adguard/screenshots/android/huawei3en.png",alt:"Huawei"})),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},"Make sure to ",(0,o.kt)("strong",{parentName:"li"},"ENABLE")," all toggles.")),(0,o.kt)("p",null,"Also for reliable background processes you may need to uninstall PowerGenie as detailed below."),(0,o.kt)("h4",{id:"emui-9-devices"},"EMUI 9+ devices"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Note: On some phones with EMUI 9+ (Android P+) Huawei introduced a new task killer app called PowerGenie which forces to quit all apps not whitelisted by Huawei and does not give users any configuration options. See below how to uninstall it.")),(0,o.kt)("p",null,"Huawei is extremely inventive in breaking apps on their devices. In addition to all the non-standard power management measures described below, they introduced a new task killer app build right into EMUI 9 on Android Pie."),(0,o.kt)("p",null,"It is called ",(0,o.kt)("strong",{parentName:"p"},"PowerGenie")," and it kills all apps that are not on its whitelist. You cannot add custom apps on their pre-defined whitelist. This means there is no other way to fix proper app functionality on Huawei than uninstalling PowerGenie."),(0,o.kt)("p",null,"Unfortunately, this is a system app that can only be fully uninstalled using ADB (Android Debug Bridge) Source: ",(0,o.kt)("a",{parentName:"p",href:"https://forum.xda-developers.com/mate-20-pro/themes/remove-powergenie-to-allow-background-t3890409"},"XDA"),"."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"You need to"),":"),(0,o.kt)("p",null,"1) ",(0,o.kt)("a",{parentName:"p",href:"https://www.xda-developers.com/install-adb-windows-macos-linux/"},"Install ADB")," on your computer;"),(0,o.kt)("p",null,"2) Connect your phone with a data cable;"),(0,o.kt)("p",null,"3) Enable Developer options;"),(0,o.kt)("p",null,"4) Enable USB debugging within Developer options on your phone;"),(0,o.kt)("p",null,"5) Run the following commands on your computer:"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"adb shell pm uninstall --user 0 com.huawei.powergenie")),(0,o.kt)("p",null,"We did not yet have this confirmed but it is possible you can alternatively just disable PowerGenie in ",(0,o.kt)("em",{parentName:"p"},"Phone settings")," > ",(0,o.kt)("em",{parentName:"p"},"Apps"),". This setting would need to be re-applied every time you reboot your device."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Please still follow the steps below - Huawei phones usually have multiple powersaving mechanisms.\nAlso, you may not have PowerGenie on your phone, but your apps may still get killed by another mechanism.")),(0,o.kt)("h4",{id:"emui-6-devices-and-some-emui-5-devices"},"EMUI 6+ devices (and some EMUI 5 devices):"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Phone settings")," > ",(0,o.kt)("em",{parentName:"li"},"Advanced Settings")," > ",(0,o.kt)("em",{parentName:"li"},"Battery manager")," > ",(0,o.kt)("em",{parentName:"li"},"Power plan")," set to ",(0,o.kt)("em",{parentName:"li"},"Performance"),";"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Phone Settings")," > ",(0,o.kt)("em",{parentName:"li"},"Advanced Settings")," > ",(0,o.kt)("em",{parentName:"li"},"Battery Manager")," > ",(0,o.kt)("em",{parentName:"li"},"Protected apps")," \u2013 set your app as ",(0,o.kt)("em",{parentName:"li"},"Protected"),";"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Phone Settings")," > ",(0,o.kt)("em",{parentName:"li"},"Apps")," > ",(0,o.kt)("em",{parentName:"li"},"Your app")," > ",(0,o.kt)("em",{parentName:"li"},"Battery")," > ",(0,o.kt)("em",{parentName:"li"},"Power-intensive prompt")," ",(0,o.kt)("inlineCode",{parentName:"li"},"[uncheck]")," and ",(0,o.kt)("em",{parentName:"li"},"Keep running after screen off")," ",(0,o.kt)("inlineCode",{parentName:"li"},"[check]"),";"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("em",{parentName:"li"},"Phone settings")," > ",(0,o.kt)("em",{parentName:"li"},"Apps")," > ",(0,o.kt)("em",{parentName:"li"},"Advanced (At the bottom)")," > ",(0,o.kt)("em",{parentName:"li"},"Ignore optimizations")," > Press Allowed > ",(0,o.kt)("em",{parentName:"li"},"All apps")," > Find your app on the list and set to ",(0,o.kt)("em",{parentName:"li"},"Allow"),".")),(0,o.kt)("h4",{id:"huawei-p9-plus"},"Huawei P9 Plus:"),(0,o.kt)("p",null,"Open device settings > ",(0,o.kt)("em",{parentName:"p"},"Apps")," > ",(0,o.kt)("em",{parentName:"p"},"Settings")," > ",(0,o.kt)("em",{parentName:"p"},"Special access")," > choose ",(0,o.kt)("em",{parentName:"p"},"Ignore battery optimization")," > select ",(0,o.kt)("em",{parentName:"p"},"Allow")," for your app."),(0,o.kt)("h4",{id:"huawei-p20-huawei-honor-9-lite-and-huawei-mate-9-pro"},"Huawei P20, Huawei Honor 9 Lite and Huawei Mate 9 Pro:"),(0,o.kt)("p",null,"Open device settings > ",(0,o.kt)("em",{parentName:"p"},"Battery")," > ",(0,o.kt)("em",{parentName:"p"},"App launch")," > then set your app to ",(0,o.kt)("em",{parentName:"p"},"Manage manually")," and make sure everything is turned on."),(0,o.kt)("h4",{id:"huawei-p20-huawei-p20-lite-huawei-mate-10"},"Huawei P20, Huawei P20 Lite, Huawei Mate 10:"),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Phone settings")," > ",(0,o.kt)("em",{parentName:"p"},"Battery")," > ",(0,o.kt)("em",{parentName:"p"},"App launch")," and then set your app to \u201cManage manually\u201d and make sure everything is turned on. Also for reliable background processes you may need to uninstall PowerGenie as described above."),(0,o.kt)("h4",{id:"early-huawei"},"Early Huawei"),(0,o.kt)("p",null,"Old Huawei devices are the easiest to set up, it is enough to perform two simple steps to lock the application in the background so it won't be terminated by battery saving or background killer process."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Tap on the ",(0,o.kt)("em",{parentName:"p"},"Recent tasks")," button:"),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/huaweirecentapps.jpeg",alt:"Huawei recent apps"}))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Tap on the lock icon:"),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/huaweilock.jpeg",alt:"Huawei lock"}),"\n"))),(0,o.kt)("p",null,"Besides, to set up the background work of your app more effectively, you should open device settings and do the following:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Go to ",(0,o.kt)("em",{parentName:"li"},"Advanced Settings")," > then open ",(0,o.kt)("em",{parentName:"li"},"Battery Manager")," > Set ",(0,o.kt)("em",{parentName:"li"},"Power plan"),' to "Performance";'),(0,o.kt)("li",{parentName:"ul"},"Then choose ",(0,o.kt)("em",{parentName:"li"},"Protected apps")," in the ",(0,o.kt)("em",{parentName:"li"},"Battery Manager")," and check if your app is Protected;"),(0,o.kt)("li",{parentName:"ul"},"Go to ",(0,o.kt)("em",{parentName:"li"},"Apps")," in the main settings and click on AdGuard there > choose ",(0,o.kt)("em",{parentName:"li"},"Battery")," > enable ",(0,o.kt)("em",{parentName:"li"},"Power-intensive prompt")," and ",(0,o.kt)("em",{parentName:"li"},"Keep running after screen is off"),";"),(0,o.kt)("li",{parentName:"ul"},"Then in the ",(0,o.kt)("em",{parentName:"li"},"Apps")," section open ",(0,o.kt)("em",{parentName:"li"},"Settings")," (at the bottom) > ",(0,o.kt)("em",{parentName:"li"},"Special access")," > choose ",(0,o.kt)("em",{parentName:"li"},"Ignore battery optimization")," > press ",(0,o.kt)("em",{parentName:"li"},"Allowed")," > ",(0,o.kt)("em",{parentName:"li"},"All apps")," > find AdGuard on the list and set it to ",(0,o.kt)("em",{parentName:"li"},"Deny"),".")),(0,o.kt)("h2",{id:"meizu"},"Meizu"),(0,o.kt)("p",null,"Meizu has almost the same approach to the background process limitations as Huawei and Xiaomi. So you can avoid disabling the background work of AdGuard and any other app by adjusting the following settings:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Go to ",(0,o.kt)("em",{parentName:"li"},"Advanced Settings")," > then open ",(0,o.kt)("em",{parentName:"li"},"Battery Manager")," > set ",(0,o.kt)("em",{parentName:"li"},"Power plan"),' to "Performance";'),(0,o.kt)("li",{parentName:"ul"},"Then choose ",(0,o.kt)("em",{parentName:"li"},"Protected apps")," in the ",(0,o.kt)("em",{parentName:"li"},"Battery Manager")," and check if your app is Protected;"),(0,o.kt)("li",{parentName:"ul"},"Go to ",(0,o.kt)("em",{parentName:"li"},"Apps")," section and click on AdGuard there > choose ",(0,o.kt)("em",{parentName:"li"},"Battery")," > enable ",(0,o.kt)("em",{parentName:"li"},"Power-intensive prompt")," and ",(0,o.kt)("em",{parentName:"li"},"Keep running after screen is off"),";")),(0,o.kt)("h2",{id:"nokia"},"Nokia"),(0,o.kt)("p",null,"Nokia on Android O and P disables any background process after 20 minutes if the screen is off."),(0,o.kt)("p",null,"Here is what you need to do in order to prevent killing the background process of your app:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Go to device settings > open ",(0,o.kt)("em",{parentName:"li"},"Apps")," > choose ",(0,o.kt)("em",{parentName:"li"},"See all apps"),";"),(0,o.kt)("li",{parentName:"ul"},"Then tap on the right top corner menu > choose ",(0,o.kt)("em",{parentName:"li"},"Show system"),";"),(0,o.kt)("li",{parentName:"ul"},"Find ",(0,o.kt)("em",{parentName:"li"},"Power saver")," in the app list, select it and tap on ",(0,o.kt)("em",{parentName:"li"},"Force stop"),". It will remain stopped until the next restart.")),(0,o.kt)("p",null,"From now on, background apps are supposed to work smoothly and use the standard Android battery optimizations."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"There is an alternative solution for background work optimization which is more appropriate for advanced users. You will find the instructions below.")),(0,o.kt)("h4",{id:"nokia-1-android-go"},"Nokia 1 (Android Go)"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Uninstall the com.evenwell.emm package via the following adb commands:")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"adb shell"),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"pm uninstall --user 0 com.evenwell.emm")),(0,o.kt)("h4",{id:"other-nokia-models"},"Other Nokia models"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Uninstall the com.evenwell.powersaving.g3 package via the following adb commands:")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"adb shell"),"\n",(0,o.kt)("inlineCode",{parentName:"p"},"pm uninstall --user 0 com.evenwell.powersaving.g3")),(0,o.kt)("h2",{id:"oppo"},"Oppo"),(0,o.kt)("p",null,"Sometimes background services are being killed (including accessibility services, which then need re-enabling) every time you turn the screen off. So far, a workaround for this is:"),(0,o.kt)("p",null,'Go to \u201cSecurity Centre\u201d - tap on "Privacy Permissions" - "Startup manager" and allow AdGuard app to run in background.'),(0,o.kt)("p",null,"Other solutions: "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Pin your app to the recent apps screen"),(0,o.kt)("li",{parentName:"ul"},"Enable your app in the app list inside the security app\u2019s \u201cstartup manager\u201d and \u201cfloating app list\u201d (com.coloros.safecenter / com.coloros.safecenter.permission.Permission)"),(0,o.kt)("li",{parentName:"ul"},"Turn off battery optimizations")),(0,o.kt)("h2",{id:"oneplus"},"Oneplus"),(0,o.kt)("p",null,"Devices with OxygenOS on board are the most problematic, with its OS-specific cache cleaning and free RAM, including OS optimization. In addition, OxygenOS can interrupt the application's work if you do not use it for a while. To avoid these unwanted consequences, follow these steps: "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Go to Settings")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Battery - Battery optimization")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Find the app you want to keep awake all the time")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},'Tap on it and select "Don\'t optimize" option')),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},'Tap "Done" to save')),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Open recent apps menu (as showed on this screenshot):"),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/public/Adguard/kb/PicturesEN/android/onepluslock.png",alt:"Onepluslock"}))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Lock AdGuard application:"))),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/public/Adguard/kb/PicturesEN/android/oneplusdots.png",alt:"Oneplusdots"})),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"On some OnePlus phones there is also a thing called App Auto-Launch and Deep Optimization which essentially prevents apps from working in the background. Please disable it for your app.")),(0,o.kt)("p",null,"And here is one more thing to try:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Open device settings > ",(0,o.kt)("em",{parentName:"li"},"Battery")," > ",(0,o.kt)("em",{parentName:"li"},"Battery optimization")," > switch to the ",(0,o.kt)("em",{parentName:"li"},"All apps")," list (top menu) > choose your app > activate ",(0,o.kt)("em",{parentName:"li"},"Don\u2019t optimize")),(0,o.kt)("li",{parentName:"ul"},"Open device settings > ",(0,o.kt)("em",{parentName:"li"},"Battery")," > ",(0,o.kt)("em",{parentName:"li"},"Battery Optimization")," > three dots > ",(0,o.kt)("em",{parentName:"li"},"Advanced Optimization")," > Disable Deep Optimization")),(0,o.kt)("h2",{id:"sony"},"Sony"),(0,o.kt)("p",null,"Sony was the first mobile OS developer to introduce non-standard background process optimization and opened Pandora\u2019s box. It is called Stamina mode and it instantly breaks all background processes and all alarms if enabled."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Solution:")),(0,o.kt)("p",null,"Go to Settings - Battery - Three dots in the top right corner - Battery optimization - Apps - ",(0,o.kt)("strong",{parentName:"p"},"AdGuard")," - uncheck"),(0,o.kt)("h2",{id:"wiko"},"Wiko"),(0,o.kt)("p",null,"Wiko devices are definitely problematic in terms of non-standard background process optimizations and adjustments to the settings that need to be done to make apps work properly."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Solution:")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Go to Phone Assistant - Battery - turn off ",(0,o.kt)("em",{parentName:"li"},"Eco Mode")),(0,o.kt)("li",{parentName:"ul"},"Go back and go to ",(0,o.kt)("em",{parentName:"li"},"Manual mode")),(0,o.kt)("li",{parentName:"ul"},"Tap on the Gear icon on top right - Background apps whitelist > Select ",(0,o.kt)("em",{parentName:"li"},"AdGuard"))),(0,o.kt)("h2",{id:"android-stock-devices-pixelnexusessential"},"Android stock devices Pixel/Nexus/Essential"),(0,o.kt)("p",null,'Android stock OS normally does not conflict with applications working in the background, but if you are facing any issues you will need to switch on the "Always on VPN" mode.'),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Go to Settings - Network and Internet"),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/stocknetwork.png",alt:"Stocknetwork"}))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},'Tap on "VPN" and choose AdGuard'),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/stockvpn.png",alt:"Stockvpn"}))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},'Set up "Always on VPN" mode'),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{parentName:"p",src:"https://cdn.adguard.com/content/kb/ad_blocker/android/solving_problems/background-work/stockadguard.png",alt:"Stockadguard"})))))}d.isMDXComponent=!0}}]);